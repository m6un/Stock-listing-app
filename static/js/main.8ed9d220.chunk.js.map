{"version":3,"sources":["axios.js","Constants/Constants.js","Components/Quotes/Quote.js","Components/Table/Table.js","Components/Home/Home.js","App.js","index.js"],"names":["instance","axios","create","baseURL","Quote","useState","qoutes","setQoutes","undefined","asc","setAsc","symbol","useParams","useEffect","get","then","response","Object","values","data","payload","className","style","marginBottom","onClick","e","sortedAscending","sort","a","b","moment","time","sortedDescending","map","obj","i","price","valid_till","Table","stocks","history","useHistory","Symbol","push","generatePath","handleProceed","Name","Sector","Validtill","csv","require","Home","setStocks","searchData","setSearchData","fromString","jsonObj","type","onChange","query","result","Fuse","keys","search","finalResult","length","forEach","item","searchItem","target","value","placeholder","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ed9d220.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { baseUrl } from \"./Constants/Constants\";\nconst instance = axios.create({\n    baseURL: baseUrl,\n});\nexport default instance;","export const baseUrl = \"https://prototype.sbulltech.com/api/v2\"","import React, { useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport { useParams } from \"react-router\";\nimport axios from \"../../axios\";\nimport \"./Quote.css\";\n\nfunction Quote() {\n  const [qoutes, setQoutes] = useState();\n  const [asc, setAsc] = useState(undefined)\n  const symbol = useParams();\n\n  //ascending functionality\n  function sortByAscending() {\n\n    axios.get(`quotes/${symbol.symbol}`).then((response) => {\n    \n    let sortedAscending = Object.values(response.data.payload)[0].sort((a, b) => {\n      return new moment(a.time) - new moment(b.time);\n    });\n    setAsc(sortedAscending);\n  })}\n\n  //descending functionality\n  function sortByDescending() {\n    axios.get(`quotes/${symbol.symbol}`).then((response) => {\n    \n      let sortedDescending = Object.values(response.data.payload)[0].sort((a, b) => {\n        return new moment(b.time) - new moment(a.time);\n      });\n      setAsc(sortedDescending);\n  })}\n\n  //extracting qoutes data\n  // useEffect(() => {\n  //   const interval = setInterval(async () => {\n  //    await  axios.get(`quotes/${symbol.symbol}`).then((response) => {\n  //       setQoutes(Object.values(response.data.payload)[0]);\n  //     },180000)\n  //   })\n  //   return () => clearInterval(interval);\n  // }, []);\n\n  useEffect(() => {\n      axios.get(`quotes/${symbol.symbol}`).then((response) => {\n        setQoutes(Object.values(response.data.payload)[0]);\n    })\n  }, [qoutes]);\n  // let qou;\n\n  // if(asc){\n  //   qou = asc\n  // }\n  // else{\n  //   qou = qoutes\n  // }\n\n  //   console.log(symbol.symbol);\n  // reload functionality\n  // window.setTimeout(function () {\n  //   window.location.reload();\n  // }, 180000);\n\n  return (\n    <div>\n      <div className=\"header\">\n        <h3 style={{ marginBottom: \"15px\" }}>{symbol.symbol}</h3>\n        <button className=\"sortButton\" onClick={(e) => sortByAscending()}>\n          asc\n        </button>\n        <button\n          className=\"sortButton\"\n          onClick={(e) => sortByDescending()}\n        >\n          desc\n        </button>\n      </div>\n\n      <div className=\"main\">\n        <div className=\"tableHeader\">\n          <h3>Time</h3>\n          <h3>Price</h3>\n          <h3>Valid till</h3>\n        </div>\n        <div className=\"child\">\n          { asc ? \n            asc && asc.map((obj, i) => (\n              <div className=\"eachRow\">\n                <div className=\"text\" key={i}>\n                  {obj.time}\n                </div>\n                <div className=\"text\">{obj.price}</div>\n                <div className=\"text\">{obj.valid_till}</div>\n              </div>\n            )) : qoutes && qoutes.map((obj, i) => (\n              <div className=\"eachRow\">\n                <div className=\"text\" key={i}>\n                  {obj.time}\n                </div>\n                <div className=\"text\">{obj.price}</div>\n                <div className=\"text\">{obj.valid_till}</div>\n              </div>\n            ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Quote;\n","import React from \"react\";\nimport { useHistory, generatePath } from \"react-router-dom\";\nimport \"./Table.css\";\n\nfunction Table({ stocks }) {\n  const history = useHistory();\n\n  //handleProceed functionality for symbol - click\n  const handleProceed = (obj) => {\n    let symbol = obj.Symbol;\n    symbol && history.push(generatePath(\"/stocks/:symbol\", { symbol }));\n  };\n\n  //populating table\n  return (\n    <div className=\"main\">\n      <div className=\"tableHeader\">\n        <h3>Symbol</h3>\n        <h3>Name</h3>\n        <h3>Sector</h3>\n        <h3>Valid till</h3>\n      </div>\n      <div className=\"child\">\n        {stocks &&\n          stocks.map((obj, i) => (\n            <div className=\"eachRow\">\n              <div\n                className=\"text1\"\n                key={i}\n                onClick={() => {\n                  handleProceed(obj);\n                }}\n              >\n                {obj.Symbol}\n              </div>\n              <div className=\"text\">{obj.Name}</div>\n              <div className=\"text\">{obj.Sector}</div>\n              <div className=\"text\">{obj.Validtill}</div>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Table;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"./Home.css\";\nimport Fuse from \"fuse.js\";\nimport axios from \"../../axios\";\nimport Table from \"../Table/Table\";\nconst csv = require(\"csvtojson\");\n\nfunction Home() {\n  const [stocks, setStocks] = useState();\n  const [searchData, setSearchData] = useState(stocks);\n\n  //extracting instruments data\n  useEffect(() => {\n    axios.get(\"instruments\").then((response) => {\n      csv()\n        .fromString(response.data)\n        .then((jsonObj) => setStocks(jsonObj));\n    });\n  }, []);\n\n  //functionality for fuzzy search\n  const searchItem = (query) => {\n    if (!query) {\n      setSearchData(stocks);\n      return;\n    }\n    const fuse = new Fuse(stocks, {\n      keys: [\"Name\", \"Symbol\"],\n    });\n    const result = fuse.search(query);\n    const finalResult = [];\n    if (result.length) {\n      result.forEach((item) => {\n        finalResult.push(item.item);\n      });\n      setSearchData(finalResult);\n    } else {\n      setSearchData([]);\n    }\n  };\n  return (\n    <div>\n      <div className=\"box\">\n        <input\n          type=\"search\"\n          onChange={(e) => searchItem(e.target.value)}\n          placeholder=\"Search\"\n        />\n      </div>\n\n      <Table stocks={searchData ? searchData : stocks} />\n    </div>\n  );\n}\nexport default Home;\n","\nimport './App.css';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Quote from './Components/Quotes/Quote';\nimport Home from './Components/Home/Home';\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path = \"/Stock-listing-app/\" component = {Home}></Route>\n          <Route path = \"/stocks/:symbol\" component= {Quote}></Route>\n        </Switch>\n      </Router>\n    </div>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}